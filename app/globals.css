@import"tailwindcss";
@import"tw-animate-css";

/* 
┌─────────────────────────────────────────────────────────────────┐
│ TAILWIND V4 DARK MODE CONFIGURATION                             │
│ Use data-theme attribute instead of media query                 │
└─────────────────────────────────────────────────────────────────┘
*/
@variant dark ([data-theme="dark"] &);

/* 
┌─────────────────────────────────────────────────────────────────┐
│ PRODUCTION THEME SYSTEM - 3-TIER TOKEN ARCHITECTURE             │
├─────────────────────────────────────────────────────────────────┤
│ Tier 1: Primitive Tokens (Base colors)                           │
│ Tier 2: Semantic Tokens (Usage context)                         │  
│ Tier 3: Component Tokens (Specific use)                         │
└─────────────────────────────────────────────────────────────────┘
*/

/* TIER 1: PRIMITIVE TOKENS - AVION DESIGN LANGUAGE */
:root {
 /* Avion Materials */
 --material-ceramic: #F4F4F4;
 --material-tungsten: #1A1A1A;
 --material-tungsten-light: #2A2A2A;
 --accent-safety: #F04E30;
 --accent-info: #2563EB;

 /* Brand Colors */
 --color-brand-50: #f0f9ff;
 --color-brand-100: #e0f2fe;
 --color-brand-500: #3b82f6;
 --color-brand-600: #2563eb;
 --color-brand-900: #1e3a8a;

 /* Scale Grays - Adjusted for Avion palette */
 --color-gray-50: #F8F8F8;
 --color-gray-100: #F4F4F4;
 --color-gray-200: #E0E0E0;
 --color-gray-300: #C4C4C4;
 --color-gray-400: #A0A0A0;
 --color-gray-500: #737373;
 --color-gray-600: #525252;
 --color-gray-700: #404040;
 --color-gray-800: #262626;
 --color-gray-900: #1A1A1A;

 /* Semantic Colors */
 --color-success: #10b981;
 --color-warning: #f59e0b;
 --color-error: #ef4444;

 /* TIER 2: SEMANTIC TOKENS - USAGE CONTEXT */
 /* Default references - will be overridden by theme */
 --color-background-primary: var(--material-ceramic);
 --color-background-secondary: #FFFFFF;
 --color-surface: #FFFFFF;
 --color-surface-subtle: var(--material-ceramic);
 --color-text-primary: var(--material-tungsten);
 --color-text-secondary: var(--color-gray-600);
 --color-text-muted: var(--color-gray-400);
 --color-text-inverse: #ffffff;
 --color-border: var(--color-gray-200);
 --color-border-subtle: var(--color-gray-200);
 --color-blue: var(--accent-info);
 --color-orange: var(--accent-safety);
 --color-green: var(--color-success);
 --color-amber: var(--color-warning);
 --color-red: var(--color-error);
 --color-gray: var(--color-gray-500);
 --accent-primary: #2563EB; /* Default to Blue, overridden by theme */
 --accent-secondary: #F04E30; /* Default to Orange, overridden by theme */

 /* Standard CSS Variables for Tailwind tokens */
 --radius: 0.625rem;
 --background: var(--color-background-primary);
 --foreground: var(--color-text-primary);
 --card: var(--color-surface);
 --card-foreground: var(--color-text-primary);
 --popover: var(--color-surface);
 --popover-foreground: var(--color-text-primary);
 --primary: #2563EB; /* Default to Blue, overridden by theme */
 --primary-foreground: #ffffff;
 --secondary: var(--color-background-secondary);
 --secondary-foreground: var(--color-text-primary);
 --muted: var(--color-background-secondary);
 --muted-foreground: var(--color-text-secondary);
 --accent: var(--color-surface-subtle);
 --accent-foreground: var(--color-text-primary);
 --destructive: #dc2626;
 --border: var(--color-border);
 --input: var(--color-border);
 --ring: #2563EB; /* Default to Blue, overridden by theme */
 --chart-1: #2563eb; /* Info Blue for charts */
 --chart-2: #10b981;
 --chart-3: #f59e0b;
 --chart-4: #8b5cf6;
 --chart-5: #ec4899;
 --sidebar: var(--color-surface);
 --sidebar-foreground: var(--color-text-primary);
 --sidebar-primary: #2563EB; /* Default to Blue, overridden by theme */
 --sidebar-primary-foreground: #ffffff;
 --sidebar-accent: var(--color-background-secondary);
 --sidebar-accent-foreground: var(--color-text-primary);
 --sidebar-border: var(--color-border);
 --sidebar-ring: #2563EB; /* Default to Blue, overridden by theme */
}

/* 
┌─────────────────────────────────────────────────────────────────┐
│ COMPLETE THEME SEPARATION - NO OVERLAP                          │
├─────────────────────────────────────────────────────────────────┤
│ Light mode uses ONLY light colors                                │  
│ Dark mode uses ONLY dark colors                                 │
│ No mixed states or dark:bg-slate-900 classes allowed            │
└─────────────────────────────────────────────────────────────────┘
*/

/* LIGHT THEME - CERAMIC (Avion Design Language) */
[data-theme="light"] {
 --color-background-primary: #F4F4F4; /* Ceramic */
 --color-background-secondary: #FFFFFF; /* White surfaces */
 --color-surface: #FFFFFF;
 --color-surface-subtle: #F8F8F8;
 --color-text-primary: #1A1A1A; /* Tungsten text */
 --color-text-secondary: #525252;
 --color-text-muted: #A0A0A0;
 --color-text-inverse: #ffffff;
 --color-border: #E0E0E0;
 --color-border-subtle: #E0E0E0;
 --color-foreground: #1A1A1A;
 --color-muted-foreground: #737373;
 --background: #F4F4F4;
 --foreground: #1A1A1A;
 --card: #FFFFFF;
 --card-foreground: #1A1A1A;
 --popover: #FFFFFF;
 --popover-foreground: #1A1A1A;
 --secondary: #F4F4F4;
 --secondary-foreground: #1A1A1A;
 --muted: #F8F8F8;
 --muted-foreground: #737373;
 --accent: #F4F4F4;
 --accent-foreground: #1A1A1A;
 --border: #E0E0E0;
 --input: #E0E0E0;
 
 /* Ceramic: Blue primary, Orange secondary */
 --primary: #2563EB; /* Info Blue */
 --primary-foreground: #ffffff;
 --ring: #2563EB;
 --accent-primary: #2563EB;
 --accent-secondary: #F04E30;
 --sidebar-primary: #2563EB;
 --sidebar-ring: #2563EB;
}

/* DARK THEME - TUNGSTEN (Avion Design Language) */
[data-theme="dark"] {
 --color-background-primary: #1A1A1A; /* Tungsten */
 --color-background-secondary: #2A2A2A; /* Lighter tungsten */
 --color-surface: #2A2A2A;
 --color-surface-subtle: #404040;
 --color-text-primary: #E5E5E5;
 --color-text-secondary: #A0A0A0;
 --color-text-muted: #737373;
 --color-text-inverse: #ffffff;
 --color-border: #333333;
 --color-border-subtle: #404040;
 --color-foreground: #E5E5E5;
 --color-muted-foreground: #A0A0A0;
 --background: #1A1A1A;
 --foreground: #E5E5E5;
 --card: #2A2A2A;
 --card-foreground: #E5E5E5;
 --popover: #2A2A2A;
 --popover-foreground: #E5E5E5;
 --secondary: #2A2A2A;
 --secondary-foreground: #E5E5E5;
 --muted: #262626;
 --muted-foreground: #A0A0A0;
 --accent: #404040;
 --accent-foreground: #E5E5E5;
 --border: #333333;
 --input: #333333;
 
 /* Tungsten: Orange primary, Blue secondary */
 --primary: #F04E30; /* Safety Orange */
 --primary-foreground: #ffffff;
 --ring: #F04E30;
 --accent-primary: #F04E30;
 --accent-secondary: #2563EB;
 --sidebar-primary: #F04E30;
 --sidebar-ring: #F04E30;
}

@theme inline {
 /* Colors - Avion Design Language Material System */
 /* Theme-aware variables - reference the [data-theme] CSS variables */
 --color-background: var(--color-background-primary);
 --color-foreground: var(--color-text-primary);
 --color-white: #ffffff;
 --color-surface: var(--color-surface);
 --color-background-main: var(--color-background-secondary);
 --color-background-secondary: var(--color-background-secondary);
 --color-text-primary: var(--color-text-primary);
 --color-text-secondary: var(--color-text-secondary);
 --color-text-muted: var(--color-text-muted);
 --color-text-inverse: #ffffff;
 --color-border: var(--color-border);
 --color-border-subtle: var(--color-border-subtle);
 --color-muted-foreground: var(--color-text-muted);
 --color-blue: #2563eb; /* Info Blue */
 --color-orange: #F04E30; /* Safety Orange */
 --color-green: #10b981;
 --color-amber: #f59e0b;
 --color-red: #ef4444;
 --color-gray: #737373;

 /* Typography */
 --font-sans: ui-sans-serif, system-ui, sans-serif;
 --font-mono: ui-monospace, 'JetBrains Mono', 'SF Mono', monospace;

 /* Font sizes */
 --font-size-xs: 0.6875rem; /* 11px - labels */
 --font-size-sm: 0.75rem; /* 12px - caption */
 --font-size-base: 0.8125rem; /* 13px - body */
 --font-size-md: 0.875rem; /* 14px - body */
 --font-size-data: 1rem; /* 16px - data/mono */
 --font-size-lg: 1.125rem; /* 18px - titles */
 --font-size-xl: 2rem;
 --color-sidebar-ring: var(--sidebar-ring);
 --color-sidebar-border: var(--sidebar-border);
 --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
 --color-sidebar-accent: var(--sidebar-accent);
 --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
 --color-sidebar-primary: var(--sidebar-primary);
 --color-sidebar-foreground: var(--sidebar-foreground);
 --color-sidebar: var(--sidebar);
 --color-chart-5: var(--chart-5);
 --color-chart-4: var(--chart-4);
 --color-chart-3: var(--chart-3);
 --color-chart-2: var(--chart-2);
 --color-chart-1: var(--chart-1);
 --color-ring: var(--ring);
 --color-input: var(--input);
 --color-destructive: var(--destructive);
 --color-accent-foreground: var(--accent-foreground);
 --color-accent: var(--accent);
 --color-muted-foreground: var(--muted-foreground);
 --color-muted: var(--muted);
 --color-secondary-foreground: var(--secondary-foreground);
 --color-secondary: var(--secondary);
 --color-primary-foreground: var(--primary-foreground);
 --color-primary: var(--primary);
 --color-popover-foreground: var(--popover-foreground);
 --color-popover: var(--popover);
 --color-card-foreground: var(--card-foreground);
 --color-card: var(--card);
 --color-foreground: var(--foreground);
 --color-background: var(--background);
 
 /* Radius */
 --radius-sm: calc(var(--radius) - 4px);
 --radius-md: calc(var(--radius) - 2px);
 --radius-lg: var(--radius);
 --radius-xl: calc(var(--radius) + 4px);
}

/* Ensure body uses theme-aware background */
html, body {
 background-color: var(--color-background-primary);
}

/* Global styles */
* {
 box-sizing: border-box;
}

body {
 margin: 0;
 padding: 0;
 color: var(--color-text-primary);
 font-family: var(--font-sans);
 font-size: 0.875rem;
 line-height: 1.5;
 -webkit-font-smoothing: antialiased;
 -moz-osx-font-smoothing: grayscale;
}

/* Remove conflicting OS-level dark preference override (let next-themes control) */

/* Utility classes for gradients */
.gradient-blue-subtle {
 background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(147, 197, 253, 0.05) 100%);
}

.gradient-blue-glow {
 box-shadow: 0 4px 20px rgba(59, 130, 246, 0.15);
}

.gradient-text-blue {
 background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #1e3a8a 100%);
 -webkit-background-clip: text;
 background-clip: text;
 -webkit-text-fill-color: transparent;
}

/* Technical grid background used on landing + settings */
.tech-grid {
 background-size: 40px 40px;
 background-image:
  linear-gradient(to right, rgba(0, 0, 0, 0.03) 1px, transparent 1px),
  linear-gradient(to bottom, rgba(0, 0, 0, 0.03) 1px, transparent 1px);
}

[data-theme="dark"] .tech-grid {
 background-image:
  linear-gradient(to right, rgba(255, 255, 255, 0.06) 1px, transparent 1px),
  linear-gradient(to bottom, rgba(255, 255, 255, 0.06) 1px, transparent 1px);
}

/* Inset glass panel surface used across AVION-inspired UI */
.glass-panel {
 background: rgba(245, 245, 245, 0.9);
 backdrop-filter: blur(12px);
 box-shadow:
  inset 0 0 20px rgba(255, 255, 255, 0.8),
  0 10px 20px rgba(0, 0, 0, 0.05);
 border: 1px solid rgba(255, 255, 255, 0.7);
}

[data-theme="dark"] .glass-panel {
 background: rgba(24, 24, 27, 0.94);
 box-shadow:
  inset 0 0 18px rgba(0, 0, 0, 0.7),
  0 12px 30px rgba(0, 0, 0, 0.8);
 border: 1px solid rgba(63, 63, 70, 0.9);
}

/* Corner Bracket Design System */
.corner-brackets {
 position: relative;
}

.corner-brackets::before,
.corner-brackets::after,
.corner-brackets-inner::before,
.corner-brackets-inner::after {
 content: '';
 position: absolute;
 pointer-events: none;
 transition: border-color 150ms ease-out;
}

/* Sizes */
.corner-brackets-sm::before,
.corner-brackets-sm::after,
.corner-brackets-sm .corner-brackets-inner::before,
.corner-brackets-sm .corner-brackets-inner::after {
 width: 12px;
 height: 12px;
}

.corner-brackets-md::before,
.corner-brackets-md::after,
.corner-brackets-md .corner-brackets-inner::before,
.corner-brackets-md .corner-brackets-inner::after {
 width: 16px;
 height: 16px;
}

.corner-brackets-lg::before,
.corner-brackets-lg::after,
.corner-brackets-lg .corner-brackets-inner::before,
.corner-brackets-lg .corner-brackets-inner::after {
 width: 24px;
 height: 24px;
}

/* Top-left corner */
.corner-brackets::before {
 top: -1px;
 left: -1px;
 border-top: 2px solid;
 border-left: 2px solid;
}

/* Top-right corner */
.corner-brackets::after {
 top: -1px;
 right: -1px;
 border-top: 2px solid;
 border-right: 2px solid;
}

/* Bottom-left corner */
.corner-brackets-inner::before {
 bottom: 0;
 left: 0;
 border-bottom: 2px solid;
 border-left: 2px solid;
}

/* Bottom-right corner */
.corner-brackets-inner::after {
 bottom: 0;
 right: 0;
 border-bottom: 2px solid;
 border-right: 2px solid;
}

/* Variants */
.corner-brackets-default::before,
.corner-brackets-default::after,
.corner-brackets-default .corner-brackets-inner::before,
.corner-brackets-default .corner-brackets-inner::after {
 border-color: #e2e8f0;
}


.corner-brackets-active::before,
.corner-brackets-active::after,
.corner-brackets-active .corner-brackets-inner::before,
.corner-brackets-active .corner-brackets-inner::after {
 border-color: #3b82f6;
 filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.5));
 animation: pulse-border 3s ease-in-out infinite;
}


@keyframes pulse-border {
 0%, 100% {
 opacity: 1;
 filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.5));
 }
 50% {
 opacity: 0.8;
 filter: drop-shadow(0 0 12px rgba(59, 130, 246, 0.7));
 }
}

.corner-brackets-hover::before,
.corner-brackets-hover::after,
.corner-brackets-hover .corner-brackets-inner::before,
.corner-brackets-hover .corner-brackets-inner::after {
 border-color: #e2e8f0;
 transition: all 0.3s ease;
}


.corner-brackets-hover:hover::before,
.corner-brackets-hover:hover::after,
.corner-brackets-hover:hover .corner-brackets-inner::before,
.corner-brackets-hover:hover .corner-brackets-inner::after {
 border-color: #60a5fa;
 filter: drop-shadow(0 0 4px rgba(96, 165, 250, 0.3));
}

.corner-brackets-critical::before,
.corner-brackets-critical::after,
.corner-brackets-critical .corner-brackets-inner::before,
.corner-brackets-critical .corner-brackets-inner::after {
 border-color: #ef4444;
}

.corner-brackets-success::before,
.corner-brackets-success::after,
.corner-brackets-success .corner-brackets-inner::before,
.corner-brackets-success .corner-brackets-inner::after {
 border-color: #10b981;
}

/* Soft variant - for subtle emphasis (expanded sidebar rows) */
.corner-brackets-soft::before,
.corner-brackets-soft::after,
.corner-brackets-soft .corner-brackets-inner::before,
.corner-brackets-soft .corner-brackets-inner::after {
 border-color: rgba(161, 161, 170, 0.3); /* zinc-400 @ 30% opacity */
 border-width: 1.5px;
}

/* Subtle variant - barely visible framing (inactive items) */
.corner-brackets-subtle::before,
.corner-brackets-subtle::after,
.corner-brackets-subtle .corner-brackets-inner::before,
.corner-brackets-subtle .corner-brackets-inner::after {
 border-color: rgba(228, 228, 231, 0.5); /* zinc-200 @ 50% opacity */
 border-width: 1px;
}

/* Corner visibility utilities for stacked elements */
.corner-brackets-hide-top::before,
.corner-brackets-hide-top::after {
 display: none;
}

.corner-brackets-hide-bottom .corner-brackets-inner::before,
.corner-brackets-hide-bottom .corner-brackets-inner::after {
 display: none;
}

.corner-brackets-hide-top-left::before {
 display: none;
}

.corner-brackets-hide-top-right::after {
 display: none;
}

.corner-brackets-hide-bottom-left .corner-brackets-inner::before {
 display: none;
}

.corner-brackets-hide-bottom-right .corner-brackets-inner::after {
 display: none;
}

/* Removed OKLCH dark palette block */

@layer base {
 * {
 @apply border-border outline-ring/50;
 }
 body {
 @apply bg-background text-foreground;
 }
 
 /* Input focus states use theme-aware primary color */
 input:focus,
 textarea:focus,
 select:focus {
  border-color: var(--primary);
  outline-color: var(--primary);
 }
}

/* React DayPicker – align with Avion tungsten panel */
.rdp-root {
 --rdp-accent-color: #F04E30;
 --rdp-accent-background-color: #111827;
 --rdp-background-color: #020617;
 --rdp-cell-size: 1.75rem;
}

/* Onboarding Wizard: Dieter Rams Aesthetic */
[data-onboarding] *,
[data-onboarding] *::before,
[data-onboarding] *::after {
 border-radius: 0 !important;
}

/* AI Sidebar Animations */
@keyframes slideInFromRight {
 from {
 transform: translateX(100%);
 opacity: 0;
 }
 to {
 transform: translateX(0);
 opacity: 1;
 }
}

@keyframes slideOutToRight {
 from {
 transform: translateX(0);
 opacity: 1;
 }
 to {
 transform: translateX(100%);
 opacity: 0;
 }
}

/* Smooth transitions for header search */
.search-transition-out {
 animation: fadeOut 150ms ease-in-out forwards;
}

.search-transition-in {
 animation: fadeIn 150ms ease-in-out 150ms forwards;
}

@keyframes fadeOut {
 from { opacity: 1; }
 to { opacity: 0; }
}

@keyframes fadeIn {
 from { opacity: 0; }
 to { opacity: 1; }
}

/* ═══════════════════════════════════════════════════════════════
   AVION ONBOARDING FLOW - DESIGN LANGUAGE V1.2
   ═══════════════════════════════════════════════════════════════ */

/* Ceramic Card - Main onboarding container */
.ceramic-card {
 background: white;
 border-radius: 6px;
 box-shadow:
  0 20px 40px -10px rgba(0, 0, 0, 0.1),
  0 0 0 1px rgba(0, 0, 0, 0.05);
 transition: background 0.3s, box-shadow 0.3s;
}

[data-theme="dark"] .ceramic-card {
 background: #2a2a2a;
 box-shadow:
  0 20px 40px -10px rgba(0, 0, 0, 0.5),
  0 0 0 1px rgba(255, 255, 255, 0.05);
}

/* Groove Input - Inset input style */
.groove-input {
 background: #f4f4f4 !important;
 box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.06);
 border: 1px solid rgba(0, 0, 0, 0.08);
 transition: all 0.2s ease;
}

.groove-input:focus-within {
 background: #ffffff !important;
 border-color: #e5e5e5;
 box-shadow:
  inset 0 1px 2px rgba(0, 0, 0, 0.03),
  0 0 0 2px rgba(240, 78, 48, 0.1);
}

[data-theme="dark"] .groove-input,
[data-theme="tungsten"] .groove-input {
 background: #2a2a2a !important;
 box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
 border: 1px solid rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .groove-input:focus-within,
[data-theme="tungsten"] .groove-input:focus-within {
 background: #323232 !important;
 border-color: #3a3a3a;
 box-shadow:
  inset 0 1px 2px rgba(0, 0, 0, 0.2),
  0 0 0 2px rgba(240, 78, 48, 0.2);
}

/* Primary Button - Tungsten style */
.btn-primary {
 background: #1a1a1a;
 color: white;
 box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
 transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-primary:hover:not(:disabled) {
 background: #2a2a2a;
}

.btn-primary:active {
 transform: translateY(1px);
 box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.btn-primary:disabled {
 opacity: 0.5;
 cursor: not-allowed;
 transform: none;
}

[data-theme="dark"] .btn-primary {
 background: #F04E30;
 box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .btn-primary:hover:not(:disabled) {
 background: #d33f24;
}

/* Tactile Option - Role selection cards */
.tactile-option {
 transition: all 0.2s ease;
 border: 1px solid #d4d4d4;
}

.tactile-option:hover {
 border-color: #a3a3a3;
}

.tactile-option.selected {
 border-color: #1a1a1a;
 background-color: #1a1a1a;
 color: white;
 box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.2);
}

.tactile-option.selected .icon-box {
 background-color: rgba(255, 255, 255, 0.1);
 color: white;
}

.tactile-option.selected .desc {
 color: rgba(255, 255, 255, 0.6);
}

[data-theme="dark"] .tactile-option {
 border: 1px solid #3a3a3a;
 background: #1e1e1e;
}

[data-theme="dark"] .tactile-option:hover {
 border-color: #4a4a4a;
}

[data-theme="dark"] .tactile-option.selected {
 border-color: #F04E30;
 background-color: #F04E30;
 color: white;
 box-shadow: 0 10px 20px -5px rgba(240, 78, 48, 0.3);
}

/* Thin, masked scroll rail used for compact lists (e.g. onboarding timezones) */
.rail-scroll {
 overflow-y: auto;
 scrollbar-width: none; /* Firefox */
 -webkit-mask-image: linear-gradient(to bottom, transparent 0, black 16px, black calc(100% - 16px), transparent 100%);
 mask-image: linear-gradient(to bottom, transparent 0, black 16px, black calc(100% - 16px), transparent 100%);
}

.rail-scroll::-webkit-scrollbar {
 width: 0;
 height: 0;
}

/* ═══════════════════════════════════════════════════════════════
   MAPLIBRE GL - AVION THEME OVERRIDES
   ═══════════════════════════════════════════════════════════════ */

/* Map container with Avion groove/inset styling */
.avion-route-map {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 400px;
  background: var(--material-tungsten-light);
  border: 1px solid #333;
  border-radius: 2px;
  box-shadow: inset 1px 1px 3px rgba(0,0,0,0.1), 
              inset -1px -1px 3px rgba(255,255,255,0.05);
  overflow: hidden;
}

[data-theme="light"] .avion-route-map {
  background: #F4F4F4;
  border: 1px solid #E0E0E0;
  box-shadow: -2px -2px 5px rgba(255,255,255,0.8), 
              2px 2px 5px rgba(0,0,0,0.05);
}

/* MapLibre map uses monospace font */
.maplibregl-map {
  font-family: var(--font-mono);
}

/* MapLibre controls styling */
.maplibregl-ctrl-group {
  background: var(--color-surface) !important;
  border: 1px solid var(--color-border) !important;
  border-radius: 2px !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2) !important;
}

.maplibregl-ctrl-group button {
  background: var(--color-surface) !important;
  color: var(--color-text-primary) !important;
  width: 29px !important;
  height: 29px !important;
}

.maplibregl-ctrl-group button:hover {
  background: var(--primary) !important;
  color: white !important;
}

.maplibregl-ctrl-group button + button {
  border-top: 1px solid var(--color-border) !important;
}

/* MapLibre compass */
.maplibregl-ctrl-compass {
  background-image: none !important;
}

.maplibregl-ctrl-compass .maplibregl-ctrl-icon {
  background-image: none !important;
}

/* Popup styling */
.maplibregl-popup-content {
  background: var(--color-surface) !important;
  color: var(--color-text-primary) !important;
  border: 1px solid var(--color-border) !important;
  border-radius: 2px !important;
  padding: 12px !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3) !important;
  font-family: var(--font-mono) !important;
}

.maplibregl-popup-tip {
  border-top-color: var(--color-surface) !important;
  border-bottom-color: var(--color-surface) !important;
}

.maplibregl-popup-anchor-top .maplibregl-popup-tip {
  border-bottom-color: var(--color-surface) !important;
}

.maplibregl-popup-anchor-bottom .maplibregl-popup-tip {
  border-top-color: var(--color-surface) !important;
}

.maplibregl-popup-close-button {
  color: var(--color-text-secondary) !important;
  font-size: 20px !important;
  padding: 0 8px !important;
}

.maplibregl-popup-close-button:hover {
  background: var(--color-accent) !important;
  color: var(--color-text-primary) !important;
}

/* Attribution control */
.maplibregl-ctrl-attrib {
  background: var(--color-surface) !important;
  color: var(--color-text-secondary) !important;
  font-size: 10px !important;
  border-radius: 2px !important;
}

.maplibregl-ctrl-attrib a {
  color: var(--primary) !important;
}

/* Airport markers with hover animation */
.avion-airport-marker {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.avion-airport-marker:hover {
  transform: scale(1.3);
}


/* 
┌─────────────────────────────────────────────────────────────────┐
│ AVION DESIGN LANGUAGE V1.5 - MATERIAL PHYSICS                   │
└─────────────────────────────────────────────────────────────────┘
*/

/* Technical grid background */
.tech-grid {
  background-image: 
    linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,0.05) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Groove input style - for inset controls */
.groove-input {
  position: relative;
  border-radius: 4px; /* Changed from 2px to 4px */
  overflow: hidden;
}

.groove-input::before {
  content: "";
  position: absolute;
  inset: 0;
  box-shadow: inset 1px 1px 3px rgba(0,0,0,0.1), 
              inset -1px -1px 3px rgba(255,255,255,0.2);
  pointer-events: none;
  border-radius: 2px; /* Match parent */
}

[data-theme="dark"] .groove-input::before {
  box-shadow: inset 1px 1px 2px rgba(0,0,0,0.5), 
              inset -1px -1px 2px rgba(255,255,255,0.05);
}

/* Ceramic card (light mode) - elevated surface */
.ceramic-card {
  background: #F4F4F4;
  box-shadow: -2px -2px 5px rgba(255,255,255,0.8), 
              2px 2px 5px rgba(0,0,0,0.05);
  border: 1px solid rgba(255,255,255,0.6);
}

/* Tungsten card (dark mode) - elevated surface */
.dark .tungsten-card {
  background: #2A2A2A;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.5), 
              0 10px 20px rgba(0,0,0,0.2);
  border: 1px solid #333;
}

